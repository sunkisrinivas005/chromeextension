(window["webpackJsonpreact-chrome-extension-boilerplate"]=window["webpackJsonpreact-chrome-extension-boilerplate"]||[]).push([[0],{34:function(e,t,a){e.exports=a(58)},39:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(11),r=a.n(o),c=(a(39),a(26)),i=a.n(c),s=a(10),d=function(){return{windowPosition:{x:800,y:-30}}},m=a(29),u=a.n(m),p=l.a.createContext({}),g=function(e){var t=e.children,a=d().windowPosition,o=Object(n.useState)(void 0),r=Object(s.a)(o,2),c=r[0],i=r[1],m=Object(n.useState)(!1),g=Object(s.a)(m,2),E=g[0],w=g[1],f=Object(n.useState)(!1),y=Object(s.a)(f,2),h=y[0],v=y[1],x=Object(n.useState)(""),b=Object(s.a)(x,2),j=b[0],C=b[1],N=Object(n.useState)(""),S=Object(s.a)(N,2),O=S[0];S[1];return Object(n.useEffect)((function(){window.addEventListener("message",(function(e){if(e.source===window){if(e.data.type&&"SID_RESULT"===e.data.type){i(e.data.sid);var t=u.a.parse(window.location.href),a=Object.values(t)[0];console.log(a,"refid.");var n=(a=a&&a.split("FOF"))[0]?a[0]:"";n&&n.length&&fetch("https://iapi.corp.flexoffers.com/link/"+n).then((function(e){return e.json()})).then((function(e){e[0].lid;C(e[0]),v(!0),w(!1)})).catch((function(e){C(""),v(!0),w(!1)}))}e.data.type&&"CLEAR_LOCAL_RESULT"===e.data.type&&(console.log(e.data.value,"from message cleared"),C(""),w(!1),v(!1)),e.data.type&&"CHECK_API_HIT"===e.data.type&&console.log("testing",e.data.value)}}))}),[]),l.a.createElement(p.Provider,{value:{sid:c,getSID:function(){w(!0),window.postMessage({type:"GET_SID"},"*")},windowPosition:a,view:h,loading:E,product:j,url:O,clearLocalStorage:function(){w(!0),window.postMessage({type:"CLEAR_LOCAL_STORAGE"},"*")}}},t)},E=a(20),w=a.n(E),f=a(21),y=a.n(f),h=a(73),v=/(?:\d+FOF\d+)/i,x=function(){return l.a.createElement(p.Consumer,null,(function(e){var t=e.windowPosition,a=e.hasDraggedWindowPosition,n=e.sid,o=e.getSID,r=e.loading,c=e.view,s=e.product,d=(e.url,e.clearLocalStorage);return l.a.createElement(i.a,{handle:".modal-handle",defaultPosition:{x:t.x,y:t.y},position:a?{x:t.x,y:t.y}:null},l.a.createElement("div",{id:"modal",className:"modal-window",style:{transform:t}},console.log(s,"product"),l.a.createElement("div",{className:"modal-window-inner-border"},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"modal-handle"}),l.a.createElement("div",{className:"col-lg-12",style:{textAlign:"center"}},l.a.createElement("h3",{style:{color:"white"}}," ","Direct Advertiser - Tracking Tool")),l.a.createElement("div",{className:"modal-content"},l.a.createElement(l.a.Fragment,null,c?l.a.createElement("div",{style:{padding:"25px 0px 0px 0px",alignSelf:"center"}},l.a.createElement("div",{className:"col-lg-12 row",style:{justifyContent:"space-between",margin:"10px"}},l.a.createElement("div",{className:"col-lg-2"},n&&n.length?l.a.createElement(w.a,{style:{width:"60px",height:"60px",color:"#008000"}}):l.a.createElement(y.a,{style:{width:"60px",height:"60px",color:"red"}})),l.a.createElement("div",{className:"col-lg-9",style:{justifyContent:"space-between"}},l.a.createElement("h5",{style:{color:"black",marginTop:"4px"}},"SID found"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},n||"no sid found"))),l.a.createElement("div",{className:"col-lg-12 row",style:{justifyContent:"space-between",margin:"10px"}},l.a.createElement("div",{className:"col-lg-2"},n&&n.length?l.a.createElement(w.a,{style:{width:"60px",height:"60px",color:"#008000"}}):l.a.createElement(y.a,{style:{width:"60px",height:"60px",color:"red"}})),l.a.createElement("div",{className:"col-lg-9",style:{justifyContent:"space-between"}},l.a.createElement("h5",{style:{color:"black",marginBottom:"0px"}},"SID Valid"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold",marginBottom:"2px"}},n&&n.length?v.test(n)?"valid sid format":"sid is not valid":"sid not found"))),l.a.createElement("div",{className:"col-lg-12 row",style:{justifyContent:"space-between",margin:"10px"}},l.a.createElement("div",{className:"col-lg-2"},s&&s?l.a.createElement(w.a,{style:{width:"60px",height:"60px",color:"#008000"}}):l.a.createElement(y.a,{style:{width:"60px",height:"60px",color:"red"}})),l.a.createElement("div",{className:"col-lg-9",style:{justifyContent:"space-between"}},l.a.createElement("h5",{style:{color:"black",marginBottom:"0px"}},s?"Link Id found":"Link not found"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},s&&s.advertiserId?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null," Program name: ",s.programName),l.a.createElement("br",null),l.a.createElement("span",null,"Categories: ",s.categories),l.a.createElement("br",null),l.a.createElement("span",null,"promotionalTypes : ",s.promotionalTypes),l.a.createElement("br",null),l.a.createElement("span",null,"link id: ",s.lid)):"Not a valid link from advertiser"))),l.a.createElement("div",{style:{flexDirection:"row",textAlign:"center"}},l.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return d()}},"Clear Local Storage"))):r?l.a.createElement("p",null,"loading.........."):null),!c&&l.a.createElement("div",{style:{padding:"10px",textAlign:"center",marginBottom:"25px"}},l.a.createElement("button",{onClick:function(){return o()},className:"modal-button"},"Load Values"))))))))}))};var b=function(){return l.a.createElement(g,null,l.a.createElement(x,null))};a(56);r.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(b,null)),document.getElementById("modal-window"))}},[[34,1,2]]]);
//# sourceMappingURL=main.aa984abb.chunk.js.map