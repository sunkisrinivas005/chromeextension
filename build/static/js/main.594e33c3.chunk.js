(window["webpackJsonpreact-chrome-extension-boilerplate"]=window["webpackJsonpreact-chrome-extension-boilerplate"]||[]).push([[0],{34:function(e,t,a){e.exports=a(58)},39:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),o=a.n(r),c=(a(39),a(27)),i=a.n(c),s=a(7),m=function(){return{windowPosition:{x:800,y:-30}}},d=a(22),u=a.n(d),p=l.a.createContext({}),E=function(e){var t=e.children,a=m().windowPosition,r=Object(n.useState)(null),o=Object(s.a)(r,2),c=o[0],i=o[1],d=Object(n.useState)(!1),E=Object(s.a)(d,2),g=E[0],y=E[1],f=Object(n.useState)(!1),w=Object(s.a)(f,2),v=w[0],x=w[1],b=Object(n.useState)(""),h=Object(s.a)(b,2),k=h[0],S=h[1],j=Object(n.useState)(""),C=Object(s.a)(j,2),N=C[0],O=C[1],L=Object(n.useState)(null),A=Object(s.a)(L,2),D=A[0],I=A[1],T=Object(n.useState)(""),U=Object(s.a)(T,2),R=U[0],_=U[1];return Object(n.useEffect)((function(){window.addEventListener("message",(function(e){if(e.source===window){if(e.data.type&&"SID_RESULT"===e.data.type){i(e.data.sid);var t=u.a.parse(window.location.href),a=Object.values(t)[0],n=(a=a&&a.split("FOF"))[0]?a[0]:"";n&&n.length&&fetch("https://iapi.corp.flexoffers.com/link/"+n).then((function(e){return e.json()})).then((function(e){e[0].lid;S(e[0]),x(!0),y(!1)})).catch((function(e){S(""),x(!0),y(!1)}))}if(e.data.type&&"CLEAR_LOCAL_RESULT"===e.data.type&&(S(""),y(!1),x(!1)),e.data.type&&"MESSAGE_URL_RESULT"===e.data.type){var l=e.data.value?e.data.value:e.data.urlSaved,r=u.a.parse(l);O(l),x(!0),_(r),y(!1)}}}))}),[]),l.a.createElement(p.Provider,{value:{sid:c,getSID:function(){y(!0),I(1),window.postMessage({type:"GET_SID"},"*")},windowPosition:a,view:v,loading:g,product:k,url:N,clearLocalStorage:function(){y(!0),window.postMessage({type:"CLEAR_LOCAL_STORAGE"},"*")},messageUrl:R,getConversionTrackingUrl:function(){y(!0),I(2),window.postMessage({type:"MESSAGE_URL"},"*")},type:D,setView:x}},t)},g=a(20),y=a.n(g),f=a(21),w=a.n(f),v=a(73),x=/(?:\d+FOF\d+)/i,b=function(){return l.a.createElement(p.Consumer,null,(function(e){var t=e.windowPosition,a=e.hasDraggedWindowPosition,n=e.sid,r=e.getSID,o=e.loading,c=e.view,s=e.product,m=e.url,d=e.clearLocalStorage,u=e.messageUrl,p=e.getConversionTrackingUrl,E=e.type,g=e.setView;return l.a.createElement(i.a,{handle:".modal-handle",defaultPosition:{x:t.x,y:t.y},position:a?{x:t.x,y:t.y}:null},l.a.createElement("div",{id:"modal",className:"modal-window",style:{transform:t}},l.a.createElement("div",{className:"modal-window-inner-border"},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"modal-handle"}),l.a.createElement("div",{className:"col-lg-12",style:{textAlign:"center"}},l.a.createElement("h3",{style:{color:"white"}}," ","Direct Advertiser - Tracking Tool"),l.a.createElement("div",{className:"modal-content"},l.a.createElement(l.a.Fragment,null,c?1===E?l.a.createElement("div",{style:{padding:"25px 0px 0px 0px",alignSelf:"center"}},l.a.createElement("div",{className:"col-lg-12 row",style:{justifyContent:"space-between",margin:"10px"}},l.a.createElement("div",{className:"col-lg-2"},n&&n.length?l.a.createElement(y.a,{style:{width:"60px",height:"60px",color:"#008000"}}):l.a.createElement(w.a,{style:{width:"60px",height:"60px",color:"red"}})),l.a.createElement("div",{className:"col-lg-9",style:{justifyContent:"space-between"}},l.a.createElement("h5",{style:{color:"black",marginTop:"4px"}},"SID found"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},n||"no sid found"))),l.a.createElement("div",{className:"col-lg-12 row",style:{justifyContent:"space-between",margin:"10px"}},l.a.createElement("div",{className:"col-lg-2"},n&&n.length?l.a.createElement(y.a,{style:{width:"60px",height:"60px",color:"#008000"}}):l.a.createElement(w.a,{style:{width:"60px",height:"60px",color:"red"}})),l.a.createElement("div",{className:"col-lg-9",style:{justifyContent:"space-between"}},l.a.createElement("h5",{style:{color:"black",marginBottom:"0px"}},"SID Valid"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold",marginBottom:"2px"}},n&&n.length?x.test(n)?"valid sid format":"sid is not valid":"sid not found"))),l.a.createElement("div",{className:"col-lg-12 row",style:{justifyContent:"space-between",margin:"10px"}},l.a.createElement("div",{className:"col-lg-2"},s&&s?l.a.createElement(y.a,{style:{width:"60px",height:"60px",color:"#008000"}}):l.a.createElement(w.a,{style:{width:"60px",height:"60px",color:"red"}})),l.a.createElement("div",{className:"col-lg-9",style:{justifyContent:"space-between"}},l.a.createElement("h5",{style:{color:"black",marginBottom:"0px"}},s?"Link Id found":"Link not found"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},s&&s.advertiserId?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null," Program name: ",s.programName),l.a.createElement("br",null),l.a.createElement("span",null,"Categories: ",s.categories),l.a.createElement("br",null),l.a.createElement("span",null,"promotionalTypes : ",s.promotionalTypes),l.a.createElement("br",null),l.a.createElement("span",null,"link id: ",s.lid)):"Not a valid link from advertiser"))),l.a.createElement("div",{style:{flexDirection:"row",textAlign:"center",justifyContent:"space-between"}},l.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return d()}},"Clear Local Storage"),l.a.createElement(v.a,{variant:"contained",color:"primary",style:{marginLeft:"30px"},onClick:function(){return g(!1)}},"Back"))):2===E?l.a.createElement("div",{style:{color:"black"}},l.a.createElement("div",{className:"col-lg-12",style:{color:"black",justifyContent:"center",alignSelf:"center"}},l.a.createElement("p",null,"AID : ",u["https://track.flexlinks.com/conversiontracking.ashx?AID"]),l.a.createElement("p",null,"UID : ",u.UID),l.a.createElement("p",null,"SID : ",u.SID),l.a.createElement("p",null,"AMT : ",u.AMT),l.a.createElement("p",{style:{width:"500px"}},"URL : ",m)),l.a.createElement("div",{style:{flexDirection:"row",textAlign:"center"}},l.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return g(!1)}},"Back"))):o?l.a.createElement("p",null,"loading.........."):null:null),!c&&l.a.createElement("div",{className:"col-lg-12 row",style:{justifyContent:"center"}},l.a.createElement("div",{style:{padding:"10px",textAlign:"center",marginBottom:"25px"}},l.a.createElement("button",{onClick:function(){return r()},className:"modal-button"},"Validate Values")),l.a.createElement("div",{style:{padding:"10px",textAlign:"center",marginBottom:"25px"}},l.a.createElement("button",{onClick:function(){return p()},className:"modal-button"},"Conversion Tracking Details"))))))))))}))};var h=function(){return l.a.createElement(E,null,l.a.createElement(b,null))};a(56);o.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null)),document.getElementById("modal-window"))}},[[34,1,2]]]);
//# sourceMappingURL=main.594e33c3.chunk.js.map